@using TestWinnicode.ViewModels.Penulis
@model ProfilPenulisViewModel
@{
    Layout = "~/Views/Shared/_ReaderLayout.cshtml";
    ViewBag.Title = "Profil Penulis - NewsPortal";
}

<div class="container my-5">
    <div class="row">
        <!-- Foto Penulis -->
        <div class="col-md-4 text-center">
            <img src="/images/profile-icon.png" alt="Foto Penulis" class="img-fluid rounded-circle shadow writer-profil-photo">
        </div>

        <!-- Info Penulis -->
        <div class="col-md-8">
            <h2 class="writer-profil-name">@Model.User.NamaLengkap</h2>
            <p class="joined-date mb-1">
                🗓️ Bergabung Sejak:
                <span class="joined-value">@Model.User.TanggalBergabung?.ToString("dd MMM yyyy")</span>
            </p>
            <p class="article-count mb-1">
                📝 Artikel Dipublikasikan:
                <span class="article-value">@Model.Penulis.TotalArtikel artikel</span>
            </p>
            <p class="views-count mb-4">
                👁️ Total Dibaca:
                <span class="views-value">@Model.Penulis.TotalDibaca.ToString("N0") kali</span>
            </p>

            <div class="writer-description-box p-3">
                <h5 class="description-heading">Tentang Penulis</h5>
                <p class="writer-description">@Model.Penulis.Deskripsi</p>
            </div>
        </div>
    </div>

    <!-- TERBARU SECTION -->
    <div class="terbaru-section mt-4">
        <h5 class="blue-tag">TERBARU</h5>
        <div class="row">
            @{
                var beritaKiri = Model.BeritaTerbaru.Take(3).ToList();
                var beritaKanan = Model.BeritaTerbaru.Skip(3).Take(3).ToList();
            }

            <!-- Section Kiri -->
            <div class="col-md-6">
                @foreach (var b in beritaKiri)
                {
                    <a href="/reader/Berita/@b.Id" class="text-decoration-none text-dark">
                        <div class="terbaru-item d-flex mb-3">
                            <img src="/images/dummy-news-image.png" class="terbaru-image me-3" alt="Berita Terbaru">
                            <div>
                                <h6 class="terbaru-title">@b.Judul</h6>
                                <span class="terbaru-category">Kategori: @b.SubKategori?.Kategori?.Nama</span><br>
                                <span class="terbaru-date">Diperbarui @b.Tanggal_Publish.ToString("dd MMM yyyy HH:mm")</span>
                            </div>
                        </div>
                    </a>
                }
            </div>

            <!-- Section Kanan -->
            <div class="col-md-6">
                @foreach (var b in beritaKanan)
                {
                    <a href="/reader/Berita/@b.Id" class="text-decoration-none text-dark">
                        <div class="terbaru-item d-flex mb-3">
                            <img src="/images/dummy-news-image.png" class="terbaru-image me-3" alt="Berita Terbaru">
                            <div>
                                <h6 class="terbaru-title">@b.Judul</h6>
                                <span class="terbaru-category">Kategori: @b.SubKategori?.Kategori?.Nama</span><br>
                                <span class="terbaru-date">Diperbarui @b.Tanggal_Publish.ToString("dd MMM yyyy HH:mm")</span>
                            </div>
                        </div>
                    </a>
                }
            </div>
        </div>
    </div>


</div>
